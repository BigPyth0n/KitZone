# ๐งช README ุชุญูู ุฌุงูุน ุงุณุชุฑุงุชฺ ุจฺฉโุชุณุช - StrategyT3-BackTest.py

_ุงู ุณูุฏ ุดุงูู ุชุญูู ูุงุฒุจูโูุงุฒ ฺฉุงูู ูุงู `StrategyT3-BackTest.py` ุงุณุช โ ุงุฒ ุฎุทโุจูโุฎุท ู ุชูุงุจุน ุชุง ุณุงุฎุชุงุฑุ ููุทู ุชุตููโฺฏุฑุ ู ูุงุจูุช ุชูุณุนู._


---

## โ ูุงุฒ 1: ุจุฑุฑุณ ุฏูู ฺฉุฏ

### 1. ุจุฑุฑุณ ุฎุทโุจูโุฎุท (Line-by-Line)
ุชุญูู ุชูุงู ุฎุทูุท ุงุฒ ุงุจุชุฏุง `import`ูุง ุชุง ุชูุงุจุน ุฏุชุงุจุณ ู ุฐุฎุฑูโุณุงุฒ ูุนุงููุงุช ุงูุฌุงู ุดุฏ. ุจุฎุดโูุง ููู:
- ุงุฌุงุฏ ูพูุดูโูุง
- ุจุงุฑฺฏุฐุงุฑ API ู ุงุชุตุงู ุจู Binance
- ุชูุธูุงุช ุตูุญู Streamlit
- ููุฏ CSS ู ุงุณุชุงูโุฏู
- ุณุงุฎุช ุฌุฏุงูู ุฏุชุงุจุณ ุจุง `sqlite3`
- ุชูุงุจุน `save_trade` ู `save_backtest_run` ุจุฑุง ุซุจุช ูุชุงุฌ
- ุณุชููโูุง ุฏูู ุฐุฎุฑู ุจุฑุง ุชุญูู ฺฉุงูู ุฑูุชุงุฑ ูุนุงููุงุช

### 2. ุจุฑุฑุณ ุจููฺฉโุจูโุจููฺฉ (Block-by-Block)
ุณุงุฎุชุงุฑ ูุงู ุฏุฑ ณ ูุงู ูุฌุฒุง ุดฺฉู ฺฏุฑูุชู:
- ุชูุธูุงุช ูุญุท (API + ูุณุฑูุง)
- ุณุงุฎุช ุฏุชุงุจุณ ู ุฌุฏุงูู
- ููุทู ุงุตู ุชุญูู ฺฉูุฏู ู ุฐุฎุฑู ูุนุงููุงุช

### 3. ูุณุชูุฏุณุงุฒ ุฎูุฏฺฉุงุฑ ุชูุงุจุน
| ุชุงุจุน | ูุฑูุฏโูุง | ุฎุฑูุฌโูุง | ุนููฺฉุฑุฏ |
|------|----------|-----------|---------|
| `connect_to_backtest_db()` | - | ุงุชุตุงู ุจู DB | ุงุชุตุงู sqlite ุจุฑุง ููุดุชู/ุฎูุงูุฏู |
| `create_backtest_tables()` | - | - | ุชุนุฑู ฺฉุงูู ุฌุฏุงูู |
| `save_backtest_run(run_data, settings_data)` | ุฏฺฉุดูุฑ | ID ุงุฌุฑุง ุฐุฎุฑูโุดุฏู | ุฐุฎุฑู ูุชุง ุฏุชุง ุงุฌุฑุง ุจฺฉโุชุณุช |
| `save_trade(run_id, trade_data)` | run_id ู ุฏฺฉุดูุฑ ุชุฑุฏ | - | ุฐุฎุฑู ุชฺฉโุชุฑุฏ ุจุง ุชูุงู ููุฏูุง |

---

## โ ูุงุฒ 2: ุชุญูู ููุทู ุงุณุชุฑุงุชฺ

ุฏุฑ ูุงู `StrategyT3-BackTest.py` ููุทู ุงุณุชุฑุงุชฺ ุจูโุตูุฑุช ูพููุงู (ุฏุฑ ุชุงุจุน ูพุฑุฏุงุฒุด ูุดุฏู ููุฌูุฏ ูุณุช) ูู ุฎุฑูุฌ ุฏุชุงุจุณ ุจูโฺฏูููโุง ุทุฑุงุญ ุดุฏู ฺฉู ุงุฒ ูุจู:
- SL/TP ุจุฑุง ูุฑ ุชุฑุฏ ูุดุฎุต ุงุณุช
- ูุณุจุช ุฑุณฺฉ ุจู ุฑูุงุฑุฏ ูุญุงุณุจู ูโุดูุฏ
- ูพุงุฑุงูุชุฑูุง `pivot_strength_threshold`ุ `body_ratio`ุ `volume_ratio` ุฏุฑ ุฐุฎุฑูโุณุงุฒ ุฑุนุงุช ุดุฏูโุงูุฏ

ููููู ุฏุงุฏู ูุงุจู ุชุญูู:
- ุฒูุงู ูุฑูุฏ/ุฎุฑูุฌ
- ููุช ูุฑูุฏ/ุฎุฑูุฌ
- ููุน ุฒููุ ููุน ุชุงุฑฺฏุชุ ุฏูู ูุฑูุฏ
- ูุณุจุช ูููู ู ุจุฏูู ฺฉูุฏู

---

## โ ูุงุฒ 3: ูุงุฒููุฏโูุง ุงุฌุฑุง

### ฺฉุชุงุจุฎุงููโูุง:
- `streamlit`, `binance`, `pandas`, `sqlite3`, `requests`, `matplotlib`, `langchain_openai`, `plotly`, `json`, `re`, `base64`

### ูุฑูุฏโูุง:
- ุฏุงุฏูโูุง OHLCV ุจูโุตูุฑุช ุฏุงุฎู
- ูพุงุฑุงูุชุฑูุง ุงุณุชุฑุงุชฺ (risk, leverage, sl_factor, confirmation candles...)

### ุฎุฑูุฌโูุง:
- ุฏุชุงุจุณ `.db` ุจุง ุฌุฏุงูู ฺฉุงูู ุชุญูู
- ุชุตุงูุฑ ุชุญูู ุฏุฑ ูุณุฑ ูุดุฎุต
- ูพูุดู `Resault-StrategyT3-BackTestDataBase` ุจุฑุง ููุงุณู ุจฺฉโุชุณุชโูุง

---

## โ ูุงุฒ 4: ููุงุณู ุจุง ูุณุฎู Live (StrategyT3.py)

| ูฺฺฏ | ูุณุฎู ูุงู | ูุณุฎู ุจฺฉโุชุณุช |
|--------|------------|---------------|
| ููุน ุงุฌุฑุง | ุงุชุตุงู API ู ุงุฌุฑุง ุณูุงุฑุด | ูพุฑุฏุงุฒุด ุฏุงุฏูโูุง ู ุฐุฎุฑู ูุชุงุฌ |
| ูุฏุฑุช ุณูุงุฑุด | ุฏุงุฑุฏ (ุงุฑุณุงู ู ุซุจุช ุฏุฑ Binance) | ูุฏุงุฑุฏ |
| ุฐุฎุฑู ูุชุงุฌ | ูุฏุงุฑุฏ | ุฏุงุฑุฏ (ฺฉุงูู ู ุจุง ุฌุฒุฆุงุช ฺฉุงูู) |
| APIูุง ุชุญูู | ุงุฒ OpenAI ู Avalai ุงุณุชูุงุฏู ุดุฏู | ุจูู |
| ุณุงุฎุชุงุฑ ฺฉูุงุณโุจูุฏ | ุณุงุฏู | ูพฺุฏูโุชุฑ ุฏุฑ ุจุฎุด ูพุงฺฏุงู ุฏุงุฏู |

---

## โ ูุงุฒ 5: ฺฏููฺฏุงูโูุง ู ุถุนูโูุง

### ููุงุท ุณูฺฏู:
- ุชุงุจุน `save_trade` ุจุณุงุฑ ุญุฌู ู ุจุง ููุฏูุง ุฒุงุฏ
- ูพุฑุฏุงุฒุด ููโุฒูุงู ฺูุฏ ุชุฑุฏ ุฏุฑ ุญุงูุช ูุนู ุฏุฏู ููโุดูุฏ
- ููุฏูุง hardcoded (ูุงููุฏ ูุณุฑูุง ู ฺฉูุฏูุง API)

### ูุงฺฏโฺฏุฑ:
- ูุงูุฏ ูุงฺฏ ุฏุงุฎู ุจุฑุง ุฎุทุงูุง ูพุงฺฏุงู ุฏุงุฏู ุง ุดฺฉุณุช ุฐุฎุฑูโุณุงุฒ

---

## โ ูุงุฒ 6: ููุดู ุณุงุฎุชุงุฑ (Function Tree)

```
main.py
 โโโ local_css()
 โโโ connect_to_backtest_db()
 โโโ create_backtest_tables()
 โโโ migrate_database()
 โโโ save_backtest_run()
 โโโ save_trade()
```

---

## โ ูุงุฒ 7: ูพุดููุงุฏูุง ูู

- ุงูุชูุงู ููุทู ุชุญูู ุจู ูุงู ุฌุฏุงฺฏุงูู ูุซู `signal_processor.py`
- ุฐุฎุฑู ุชุตุงูุฑ ุจูโุตูุฑุช ูุดโุดุฏู ุจุง ููฺฉ ูุงุจู ุฑุฏุงุจ
- ุชุนุฑู Enum ุง Dataclass ุจุฑุง `reason`, `status`, `target_type`

---

## โ ูุงุฒ 8: ุชุณุชโูพุฐุฑ

- ุชุงุจุน `save_trade()` โ ูุงุจู Unit Test ุจุง ุฏุงุฏู ุฌุนู
- ุชุงุจุน `save_backtest_run()` โ ุชุณุช ุจุง ูพุงุฑุงูุชุฑูุง ูุฎุชูู ููููุช ูุนุงููุงุช
- ุจุฑุฑุณ ูุฌูุฏ ูุงู/ูพูุดู ูุจู ุงุฒ ุฐุฎุฑู (edge cases)

---

## โ ูุงุฒ 9: ูุงุจูุช ุชูุณุนู ู ููุดููุฏุณุงุฒ

- ุงุณุชูุงุฏู ุงุฒ AI ุจุฑุง ุชุญูู ุฎูุฏฺฉุงุฑ ูุชุงุฌ ุจุง ุงุชุตุงู ุจู `Avalai` ุง `Langchain`
- ุฐุฎุฑู ุฑุณฺฉ/ุฑูุงุฑุฏ ูุฑ ุฒูู ู ุชุนู ููููุช ุงูฺฏูุฑุชูโูุง ุฏุฑ ุจููุฏูุฏุช
- ุงุชุตุงู ูุณุชูู ุจู Streamlit ุจุฑุง ููุงุด ูุงฺฏ ูุญุธูโุง ุชุฑุฏูุง

---

## โ ูุงุฒ 10: ูุณุชูุฏุณุงุฒ ฺฉุงูู ุฎุฑูุฌ

- ูุณุชูุฏุณุงุฒ ุฏูู ุชูุงู ููุฏูุง ูพุงฺฏุงู ุฏุงุฏู
- ููุฏูุง ูุงููุฏ `body_ratio`, `breakout_velocity` ุจุฑุง ูุฑ ุชุฑุฏ
- ูุถุนุช `trade_status` ุจู ููุฑุงู ุฏูู (reason) ุจูโุตูุฑุช ฺฉุงูู ุฏุฑุฌ ุดุฏูโุงูุฏ

---

## โ ูุงุฒ 11: ุฎูุงุตู ู ูุณุฑ ุจูููโุณุงุฒ

- ุณุณุชู ุจฺฉโุชุณุช ุณุงุฎุชุงุฑุงูุชูุ ุงูุนุทุงูโูพุฐุฑ ู ุฐุฎุฑูโูุญูุฑ ุทุฑุงุญ ุดุฏู
- ููุทู ุงุตู ุชุญูู ุฏุฑ ูุงู ูุฌุฒุง ุง ุชุงุจุน ุงุตู ูพุฑุฏุงุฒุด ูููุฒ ูุงุฒ ุจู ูพุงุฏูโุณุงุฒ ุฏุงุฑุฏ
- ุขูุงุฏู ุงุชุตุงู ุจู UI ุงุตู KitZone ุจุฑุง ุงุฑุงุฆู ุชุญูู ููุง ู ูุงุจู ุชุนุงูู

---

โ ุชุญูู ฺฉุงูู ุจุฏูู ุญุฐู ู ุฎูุงุตูโุณุงุฒุ ูุทุงุจู ุณุงุฎุชุงุฑ ุชุญูู ูุงู ู ุขูุงุฏู ุงุณุชูุงุฏู ุฏุฑ GitHub ุง ูุณุชูุฏุงุช ุชู ุชูุณุนู.
